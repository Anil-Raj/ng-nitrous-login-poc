{"version":3,"sources":["D:/Learning/msalb2c-demo/src/$_gendir lazy","D:/Learning/msalb2c-demo/src/app/app-routing.module.ts","D:/Learning/msalb2c-demo/src/app/app.component.css","D:/Learning/msalb2c-demo/src/app/app.component.html","D:/Learning/msalb2c-demo/src/app/app.component.ts","D:/Learning/msalb2c-demo/src/app/app.module.ts","D:/Learning/msalb2c-demo/src/app/authentication/authentication.guard.ts","D:/Learning/msalb2c-demo/src/app/authentication/authentication.module.ts","D:/Learning/msalb2c-demo/src/app/authentication/components/login/login.component.ts","D:/Learning/msalb2c-demo/src/app/authentication/sandbox/authentication.sandbox.ts","D:/Learning/msalb2c-demo/src/app/authentication/service/auth.service.ts","D:/Learning/msalb2c-demo/src/app/authentication/service/msal.service.ts","D:/Learning/msalb2c-demo/src/environments/environment.ts","D:/Learning/msalb2c-demo/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_gendir lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Learning/msalb2c-demo/src/$$_gendir lazy\n// module id = ../../../../../src/$$_gendir lazy recursive\n// module chunks = main","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AppComponent } from './app.component';\r\nimport { AuthenticationGuard } from './authentication/authentication.guard';\r\nimport { LoginComponent } from './authentication/components/login/login.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', redirectTo: '/home', pathMatch: 'full', canActivate: [AuthenticationGuard] },\r\n  { path: 'home', component: AppComponent, canActivate: [AuthenticationGuard] },\r\n  { path: 'authentication', component: LoginComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Learning/msalb2c-demo/src/app/app-routing.module.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Learning/msalb2c-demo/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = main","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\r\\n<router-outlet></router-outlet>\\r\\n<div style=\\\"text-align:center\\\">\\r\\n  <h1>\\r\\n    Welcome to {{title}}!\\r\\n  </h1>\\r\\n  <img width=\\\"300\\\" src=\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==\\\">\\r\\n</div>\\r\\n<h2>Here are some links to help you start: </h2>\\r\\n<ul>\\r\\n  <li>\\r\\n    <h2><a target=\\\"_blank\\\" href=\\\"https://angular.io/tutorial\\\">Tour of Heroes</a></h2>\\r\\n  </li>\\r\\n  <li>\\r\\n    <h2><a target=\\\"_blank\\\" href=\\\"https://github.com/angular/angular-cli/wiki\\\">CLI Documentation</a></h2>\\r\\n  </li>\\r\\n  <li>\\r\\n    <h2><a target=\\\"_blank\\\" href=\\\"https://blog.angular.io/\\\">Angular blog</a></h2>\\r\\n  </li>\\r\\n</ul>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Learning/msalb2c-demo/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'app';\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Learning/msalb2c-demo/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AuthenticationModule } from './authentication/authentication.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    AuthenticationModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Learning/msalb2c-demo/src/app/app.module.ts","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { AuthenticationSandbox } from './sandbox/authentication.sandbox';\r\n\r\n@Injectable()\r\nexport class AuthenticationGuard implements CanActivate {\r\n  isAuthenticated: boolean;\r\n\r\n  constructor(private authSandbox: AuthenticationSandbox, private router: Router) {\r\n    this.isAuthenticated = false;\r\n  }\r\n\r\n  public canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\r\n    const urlParams = new URLSearchParams(window.location.hash);\r\n    // Setting token in session storage to prevent immediate multiple redirection to AAD login.\r\n    if (urlParams.get('id_token') !== null || urlParams.get('id_token') !== undefined) {\r\n      window.sessionStorage.setItem('msal.idtoken', urlParams.get('id_token'));\r\n    }\r\n\r\n    const token: string = this.authSandbox.getToken();\r\n    if (token === null || token === undefined || token === 'null') {\r\n      this.router.navigate(['/authentication']);\r\n      this.isAuthenticated = false;\r\n    } else {\r\n      this.isAuthenticated = true;\r\n    }\r\n    return this.isAuthenticated;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Learning/msalb2c-demo/src/app/authentication/authentication.guard.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LoginComponent } from './components/login/login.component';\r\nimport { AuthenticationSandbox } from './sandbox/authentication.sandbox';\r\nimport { MSALService } from './service/msal.service';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { AuthService } from './service/auth.service';\r\nimport { AuthenticationGuard } from './authentication.guard';\r\nimport { JwtHelper } from 'angular2-jwt';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        BrowserModule,\r\n    ],\r\n    declarations: [LoginComponent],\r\n    providers: [AuthenticationSandbox, MSALService, AuthService, AuthenticationGuard, JwtHelper],\r\n    exports: [LoginComponent]\r\n})\r\nexport class AuthenticationModule {\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Learning/msalb2c-demo/src/app/authentication/authentication.module.ts","import { Component, OnInit } from '@angular/core';\r\nimport { MSALService } from '../../service/msal.service';\r\nimport { Router } from '@angular/router';\r\nimport { AuthenticationSandbox } from '../../sandbox/authentication.sandbox';\r\n\r\n@Component({\r\n  selector: 'ccw-auth',\r\n  template: '<span> <p>Token: {{token}}</p>Data from Token: <h4>Name: {{user.name}}</h4><h4>Job Title: {{user.jobTitle}}</h4><h4>Location:{{user.city}}, {{user.state}}</h4></span>'\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  user: any;\r\n  token:string;\r\n  constructor(private authSandbox: AuthenticationSandbox) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    const token: string = this.authSandbox.getToken();\r\n    if (token === null || token === undefined || token === 'null') {\r\n      this.authSandbox.login();\r\n    }\r\n    this.user=this.authSandbox.getUser();\r\n    this.token=this.authSandbox.getToken();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Learning/msalb2c-demo/src/app/authentication/components/login/login.component.ts","import { Injectable } from '@angular/core';\r\nimport { MSALService } from '../service/msal.service';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { AuthService } from '../service/auth.service';\r\n@Injectable()\r\nexport class AuthenticationSandbox {\r\n    constructor(private authService: AuthService) {\r\n    }\r\n\r\n    public getToken(): string {\r\n        return this.authService.getToken();\r\n    }\r\n\r\n    public login(): void {\r\n        this.authService.login();\r\n    }\r\n\r\n    public getUser(): Observable<any> {\r\n        return this.authService.getTokenDecoded();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Learning/msalb2c-demo/src/app/authentication/sandbox/authentication.sandbox.ts","import { Injectable } from '@angular/core';\r\nimport { tokenNotExpired, JwtHelper } from 'angular2-jwt';\r\nimport { MSALService } from './msal.service';\r\nimport { HttpRequest } from '@angular/common/http';\r\n@Injectable()\r\nexport class AuthService {\r\n    cachedRequests: Array<HttpRequest<any>> = [];\r\n    constructor(private msalService: MSALService, public jwtHelper: JwtHelper) { }\r\n\r\n    public getToken(): string {\r\n        const token: string = window.sessionStorage.getItem('msal.idtoken');\r\n        // if (token == null || token === undefined || token=='null' || !tokenNotExpired('msal.idtoken',token)) {\r\n        //     this.msalService.login();\r\n        // }\r\n        // else {\r\n        //     return token;\r\n        // }\r\n        return token;\r\n    }\r\n\r\n    public login() {\r\n        const token = this.getToken();\r\n        if (token == null || token === undefined || token === 'null') {\r\n            this.msalService.login();\r\n        }\r\n    }\r\n\r\n    public getTokenDecoded(): any\r\n    {\r\n      return this.jwtHelper.decodeToken(this.getToken());\r\n    }\r\n\r\n    public collectFailedRequest(request): void {\r\n        this.cachedRequests.push(request);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Learning/msalb2c-demo/src/app/authentication/service/auth.service.ts","import { Injectable } from '@angular/core';\r\nimport { UserAgentApplication } from 'msal';\r\nimport { environment } from '../../../environments/environment';\r\n\r\n@Injectable()\r\nexport class MSALService {\r\n    // private applicationConfig: any = {\r\n    //     clientID: 'df7cc9df-8073-4017-a108-390c4ca170f0',\r\n    //     graphScopes: ['user.read']\r\n    // };\r\n\r\n    private applicationConfig: any = {\r\n        clientID: 'ddc68d0a-7f70-4233-b295-5e676fa403e2',\r\n        authority: 'https://login.microsoftonline.com/tfp/demob2ccompany.onmicrosoft.com/B2C_1_Signup1',\r\n        b2cScopes: ['https://demob2ccompany.onmicrosoft.com/user.read'],\r\n        redirectUrl: 'https://msalb2c-demo.scm.azurewebsites.net/',\r\n        extraQueryParameter: 'p=B2C_1_signin&scope=openid&nux=1'\r\n    };\r\n\r\n    private app: any;\r\n    public user: any;\r\n    constructor() {\r\n        this.app = new UserAgentApplication(this.applicationConfig.clientID, this.applicationConfig.authority,\r\n            (errorDesc, token, error, tokenType) => {\r\n               console.log(token);\r\n            }, { redirectUri: this.applicationConfig.redirectUrl });\r\n        // this.app.redirectUri=this.applicationConfig.redirectUrl;\r\n    }\r\n    public login() {\r\n        let tokenData = '';\r\n        this.app.loginRedirect(this.applicationConfig.b2cScopes).then(data => {tokenData = data; });\r\n    }\r\n\r\n    public getUser() {\r\n        const user = this.app.getUser();\r\n        if (user) {\r\n            return user;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public logout() {\r\n        this.app.logout();\r\n    }\r\n\r\n    public getToken() {\r\n        return this.app.acquireTokenSilent(this.applicationConfig.b2cScopes)\r\n            .then(accessToken => {\r\n                console.log(accessToken);\r\n                return accessToken;\r\n            }, error => {\r\n                return this.app.acquireTokenPopup(this.applicationConfig.b2cScopes)\r\n                    .then(accessToken => {\r\n                        return accessToken;\r\n                    }, err => {\r\n                        console.error(err);\r\n                    });\r\n            });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Learning/msalb2c-demo/src/app/authentication/service/msal.service.ts","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Learning/msalb2c-demo/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Learning/msalb2c-demo/src/main.ts"],"sourceRoot":"webpack:///"}